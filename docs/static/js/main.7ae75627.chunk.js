(this["webpackJsonpemployee-dashboard"]=this["webpackJsonpemployee-dashboard"]||[]).push([[0],{18:function(e,t,n){"use strict";(function(e){var a=n(19),c=n(30),i=n(14),s=n(0),r=n(15),o=n(89),l=n(88),j=n(87),d=n(2),u=function(){var t=Object(l.a)(),n=Object(j.a)(t);return e.from(n).readUInt32BE(0)};t.a=function(e){var t=e.employee,n=e.handleOnSubmit,l=Object(s.useState)(null!==t&&void 0!==t?t:{}),j=Object(i.a)(l,2),m=j[0],b=j[1],h=Object(s.useState)(""),p=Object(i.a)(h,2),O=p[0],f=p[1],x=function(e){var t=e.target,n=t.name,i=t.value;b((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(a.a)({},n,i))}))};return Object(d.jsxs)("div",{className:"main-form",children:[O&&Object(d.jsx)("p",{className:"errorMsg",children:O}),Object(d.jsxs)(r.a,{onSubmit:function(e){e.preventDefault();var t="";if([m.name,m.designation].every((function(e){var t="".concat(e).trim();return""!==t&&"0"!==t}))){var a,c,i={id:null!==(a=m.id)&&void 0!==a?a:u(),name:m.name,designation:m.designation,date:null!==(c=m.date)&&void 0!==c?c:new Date};n(i)}else t="Please fill out all the fields.";f(t)},children:[Object(d.jsxs)(r.a.Group,{controlId:"name",children:[Object(d.jsx)(r.a.Label,{children:"Employee Name"}),Object(d.jsx)(r.a.Control,{className:"input-control",type:"text",name:"name",value:m.name,placeholder:"Enter name of the Employee",onChange:x})]}),Object(d.jsxs)(r.a.Group,{controlId:"designation",children:[Object(d.jsx)(r.a.Label,{children:"Designation"}),Object(d.jsx)(r.a.Control,{className:"input-control",type:"text",name:"designation",value:m.designation,placeholder:"Enter the designation of the Employee",onChange:x})]}),Object(d.jsx)(o.a,{variant:"primary",type:"submit",className:"submit-btn",children:"Submit"})]})]})}}).call(this,n(59).Buffer)},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(40),i=n.n(c),s=n(14),r=n(13),o=n(6),l=n(2),j=function(){return Object(l.jsxs)("header",{children:[Object(l.jsx)("h1",{children:"Admin Panel"}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"links",children:[Object(l.jsx)(r.b,{to:"/",className:"link",activeClassName:"active",exact:!0,children:"Employee List"}),Object(l.jsx)(r.b,{to:"/add",className:"link",activeClassName:"active",children:"Add Employee"})]})]})},d=n(29),u=n.n(d),m=n(20),b=n(42),h=Object(a.createContext)([]),p=n(18),O=function(e){var t=e.history,n=Object(a.useContext)(h),c=n.emps,i=n.setEmps,s=n.api,r=function(){var e=Object(b.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i([].concat(Object(m.a)(c),[n]));case 2:s("POST",n),t.push("/");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)(a.Fragment,{children:Object(l.jsx)(p.a,{employee:{},handleOnSubmit:r})})},f=n(43),x=n.n(f),v=n(91),y=n(89),g=function(e){var t=e.emp,n=e.handleRemoveEmployee,a=Object(o.g)(),c=t.id,i=t.name,s=t.designation,r=t.date;return Object(l.jsx)(v.a,{style:{width:"18rem"},className:"emp",children:Object(l.jsxs)(v.a.Body,{children:[Object(l.jsx)(v.a.Title,{className:"emp-title",children:i}),Object(l.jsxs)("div",{className:"emp-details",children:[Object(l.jsxs)("div",{children:["Name: ",i]}),Object(l.jsxs)("div",{children:["Designation: ",s," "]}),Object(l.jsxs)("div",{children:["Date: ",new Date(r).toDateString()]})]}),Object(l.jsx)(y.a,{variant:"primary",onClick:function(){return a.push("/edit/".concat(c))},children:"Edit"})," ",Object(l.jsx)(y.a,{variant:"danger",onClick:function(){return n(c)},children:"Delete"})]})})},E=function(){var e=Object(a.useContext)(h),t=e.emps,n=e.setEmps,c=e.api,i=function(e){n(t.filter((function(t){return t.id!==e}))),c("DELETE",{},e)};return Object(l.jsx)(a.Fragment,{children:Object(l.jsx)("div",{className:"emp-list",children:x.a.isEmpty(t)?Object(l.jsx)("p",{className:"message",children:"Welcome to the Admin Dashboard"}):t.map((function(e){return Object(l.jsx)(g,{emp:e,handleRemoveEmployee:i},e.id)}))})})},N=n(44),C=n.n(N),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a="https://dashboard-employee.herokuapp.com/employee";n&&(a+="/".concat(n));var c={method:e,url:a,mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:t};return C()(c)},D=function(e){var t=e.history,n=Object(a.useContext)(h),c=n.emps,i=n.setEmps,s=n.api,r=Object(o.h)().id,j=c.find((function(e){return e.id==r}));return Object(l.jsx)("div",{children:Object(l.jsx)(p.a,{employee:j,handleOnSubmit:function(e){var n=c.filter((function(e){return e.id!=r}));i([e].concat(Object(m.a)(n))),s("PATCH",e,r),t.push("/")}})})},k=function(e,t){var n=Object(a.useState)((function(){try{var n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return t}})),c=Object(s.a)(n,2),i=c[0],r=c[1];return Object(a.useEffect)((function(){localStorage.setItem(e,JSON.stringify(i))}),[e,i]),[i,r]},w=function(){var e=k("emps",[]),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){S().then((function(e){if(500!=e.status){var t=e.data;c(t)}})),console.log("mount")}),[]),Object(l.jsx)(r.a,{children:Object(l.jsxs)("div",{children:[Object(l.jsx)(j,{}),Object(l.jsx)("div",{className:"main-content",children:Object(l.jsx)(h.Provider,{value:{emps:n,setEmps:c,api:S},children:Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{component:E,path:"/",exact:!0}),Object(l.jsx)(o.b,{component:O,path:"/add"}),Object(l.jsx)(o.b,{component:D,path:"/edit/:id"}),Object(l.jsx)(o.b,{component:function(){return Object(l.jsx)(o.a,{to:"/"})}})]})})})]})})};n(84),n(85);i.a.render(Object(l.jsx)(w,{}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.7ae75627.chunk.js.map